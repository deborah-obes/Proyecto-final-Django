{% extends "home.html" %}
{% load static %}

{% block title %}Artículos | Blog{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/articulos.css' %}">
{% endblock %}

{% block content %}
<div class="container mt-5">

    <h2 class="section-title">Últimos artículos</h2>

    <div class="row">
        {% for articulo in articulos %}
        <div class="col-md-4 mb-4">

            <div class="article-card">

                <!-- Imagen -->
                <img src="{{ articulo.imagen.url }}" alt="Imagen" class="article-img">

               <!-- Cuerpo -->
            <div class="article-body">
                <h3 class="article-title">{{ articulo.titulo }}</h3>

                <p class="article-desc">
                    {{ articulo.resumen|truncatechars:120 }}
                </p>

                <!-- Badges -->
                <div class="mb-2">
                    <!-- Badge fecha -->
                    <span class="badge bg-primary">
                        {{ articulo.fecha_publicacion|date:"d/m/Y" }}
                    </span>

                    <!-- Badge cantidad de comentarios -->
                    <span class="badge bg-success">
                        {{ articulo.comentarios.count }} comentarios
                    </span>
                </div>

                <a href="{% url 'apps.articulo:articuloDetalle' articulo.id %}" class="btn btn-outline-primary">
                    Leer más
                </a>
            </div>


            </div>

        </div>
        {% empty %}
        <p class="text-muted">No hay artículos cargados todavía.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
