{% extends 'home.html' %}
{% load static %}
{% load colaborador_tags %}

{% block title %}ArtÃ­culos | Blog{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/listArticulos.css' %}?v=10">
{% endblock %}

{% block hero_section %}{% endblock %}

{% block content %}

<section class="container py-5" >

    <!-- TÃTULO -->
    <h1 class="section-title text-center">ArtÃ­culos del Blog</h1>

    <!-- BARRA DE ACCIONES -->
    <div class="action-bar d-flex flex-wrap justify-content-center gap-3 mb-5">

        <!-- Orden -->
        <a class="btn btn-orden" href="{% url 'apps.articulo:articulos' %}?orden=reciente">
            ðŸ”½ MÃ¡s reciente</a>
        <a class="btn btn-orden" href="{% url 'apps.articulo:articulos' %}?orden=antiguo">
            ðŸ”¼ MÃ¡s antiguo</a>
        <!-- CategorÃ­as -->
        <a class="btn btn-orden" href="{% url 'apps.articulo:listCategoria' %}">
            ðŸ“š CategorÃ­as</a>
        {% if user.is_superuser or request.user|has_group:"Colaborador"  %}   
        <!-- Crear ArtÃ­culo y CategorÃ­a -->
        <a class="btn btn-orden" href="{% url 'apps.articulo:crearArticulo' %}">
            âž• Crear artÃ­culo
        </a>

        <a class="btn btn-orden" href="{% url 'apps.articulo:crearCategoria' %}">
            ðŸ“‚ Nueva categorÃ­a
        </a>
        {% endif %}
    </div>

    <!-- LISTADO DE ARTÃCULOS -->
    <div class="row g-4" >
        {% for articulo in articulos %}
        <div class="col-12 col-md-4">

            <div class="art-card p-4 text-center">

                <!-- Imagen -->
                <img src="{{ articulo.imagen.url }}" 
                     class="art-img mb-3" 
                     alt="Imagen del artÃ­culo">

                <!-- TÃ­tulo -->
                <h3 class="art-title">{{ articulo.titulo|capfirst }}</h3>

                <!-- Fecha -->
                <p class="art-date">Publicado: {{ articulo.fecha_publicacion }}</p>

                <!-- Resumen -->
                <p class="art-summary">{{ articulo.resumen }}</p>

                <!-- BotÃ³n -->
                <a class="btn btn-read mt-2" href="{% url 'apps.articulo:articuloDetalle' articulo.id %}">
                    Leer mÃ¡s
                </a>

            </div>

        </div>
        {% empty %}
        <p class="text-center text-light fs-5">TodavÃ­a no hay artÃ­culos publicados.</p>
        {% endfor %}
    </div>

</section>

{% endblock %}
