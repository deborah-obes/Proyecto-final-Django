{% extends 'home.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}
{% if object.id %}Editar Artículo{% else %}Crear Artículo{% endif %}
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/articulosForm.css' %}">
{% endblock %}

{% block hero_section %}{% endblock %}

{% block content %}

<section class="container py-5">

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1>
            {% if object.id %}Editar Artículo{% else %}Crear Artículo{% endif %}
        </h1>

        {# Botón para crear categorías manteniendo el "next" en edición #}
        {% if editing %}
            <a class="btn btn-success"
                href="{% url 'apps.articulo:crearCategoria' %}?next={% url 'apps.articulo:articuloActualizar' pk=object.id %}">
                + Crear Categoría
            </a>
        {% else %}
            <a class="btn btn-success" href="{% url 'apps.articulo:crearCategoria' %}">
                + Crear Categoría
            </a>
        {% endif %}
    </div>

    <div class="card shadow p-4">
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            {{ form|crispy }}

            <button type="submit" class="btn btn-primary mt-3 w-100">
                Guardar Artículo
            </button>
        </form>
    </div>

</section>

{% endblock %}
